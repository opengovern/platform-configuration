Description: Allows users to query AWS EC2 Spot Price data, including information
  about the instance type, product description, spot price, and the date and time
  the price was set.
ID: aws_ec2_spot_price_1
IntegrationType:
- aws_cloud_account
Query:
  Engine: CloudQL-v0.0.1
  ListOfTables: []
  Parameters: []
  PrimaryTable: null
  QueryToExecute: "select\n  availability_zone,\n  instance_type,\n  product_description,\n\
    \  spot_price::numeric as spot_price,\n  create_timestamp as start_time,\n  lead(create_timestamp,\
    \ 1, now()) over (partition by instance_type, availability_zone, product_description\
    \ order by create_timestamp) as stop_time\nfrom\n  aws_ec2_spot_price\nwhere\n\
    \  instance_type = 'm5.4xlarge'\n  and product_description = 'Linux/UNIX'\n  and\
    \ availability_zone in\n  (\n    'eu-west-3a',\n    'eu-west-3b'\n  )\n  and start_time\
    \ = now() - interval '1' month\n  and end_time = now() - interval '1' minute;"
Tags:
  cloud_asset_management:
  - 'true'
  cloud_provider:
  - aws
  cloud_service:
  - EC2
Title: Find AWS EC2 Spot Price Data for Specific Instances
